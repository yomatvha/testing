!function(){"use strict";function t(t){if(0===t.length)return!1;let s=0;const e=t.length,i=e%2;let r;for(let n=0;n<e;n+=1)r=Number(t[n]),n%2===i&&(r*=2,r>9&&(r-=9)),s+=r;return s%10==0}class s{constructor(t){this.parentEl=t,this.cards=["mir","visa","mastercard","amex","discover","jcb","diners"],this.onSubmit=this.onSubmit.bind(this)}static get markup(){return'\n      <div class="board"></div>\n      <form class="card-form-widget">\n        <input type="text" id="card-input" class="input">\n        <button class="submit">Click to Validate</button>\n      </form>\n    '}static get boardSelector(){return".board"}static get submitSelector(){return".submit"}static get inputSelector(){return".input"}static get selector(){return".card-form-widget"}bindToDOM(){this.parentEl.innerHTML=s.markup,this.boardEl=this.parentEl.querySelector(s.boardSelector);for(let t=0;t<this.cards.length;t+=1){const t=document.createElement("div");t.classList.add("cell"),this.boardEl.appendChild(t)}this.element=this.parentEl.querySelector(s.selector),this.submit=this.element.querySelector(s.submitSelector),this.input=this.element.querySelector(s.inputSelector),this.redrawPositions(),this.element.addEventListener("submit",this.onSubmit)}redrawPositions(){const s="2"===(e=this.input.value)[0]?"mir":"4"===e[0]?"visa":"5"===e[0]?"mastercard":"34"===e.substr(0,2)||"37"===e.substr(0,2)?"amex":"60"===e.substr(0,2)?"discover":"31"===e.substr(0,2)||"35"===e.substr(0,2)?"jcb":"30"===e.substr(0,2)||"36"===e.substr(0,2)||"38"===e.substr(0,2)?"diners":"others";var e;const i=t(this.input.value);for(let t=0;t<this.cards.length;t+=1){this.boardEl.children[t].innerHTML="";const e=this.boardEl.children[t],r=document.createElement("div");this.cards[t]===s&&!0===i?r.classList.add("card",this.cards[t]):r.classList.add("card",`${this.cards[t]}-no`),e.appendChild(r)}}onSubmit(s){s.preventDefault();const{value:e}=this.input;t(e)?(this.input.classList.add("valid"),this.input.classList.remove("invalid")):(this.input.classList.add("invalid"),this.input.classList.remove("valid")),this.redrawPositions()}}const e=document.querySelector(".container");new s(e).bindToDOM()}();
//# sourceMappingURL=main.js.map